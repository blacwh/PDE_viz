const DATA_P = {"graph1_data": [[["null", "20", "30", "40", "50", "60", "70", "80", "90", "100"], [0.9166424999999999, 0.680975, 0.9876199999999999, 0.149845, 0.8142, 0.181485, 6.401177499999999, 0.4937825, 0.11590000000000003, 0.21639749999999996, 0.10248749999999995, 0.09716999999999998, 14.4052725, 7.897114999999999, 0.05800250000000001, 0.0418675, 0.07050000000000001, 0.33202999999999994, 0.008250000000000035, 0.010969999999999952], "Increment", "20\u219230\u219240\u219250\u219260\u219270\u219280\u219290\u2192100"], [["null", "null", "30", "40", "50", "60", "70", "80", "90", "100"], [0.8702375, 0.937405, 0.8082975, 0.8564499999999999, 0.09609999999999999, 0.1899225, 0.25032, 8.5634825, 0.46138250000000003, 0.132985, 0.0959775, 0.07019749999999997, 0.07652249999999997, 0.080845, 0.04662000000000005, 0.10869500000000004, 0.10566000000000003, 0.0706225, 0.06122749999999996, 0.018572500000000047], "Increment", "30\u219240\u219250\u219260\u219270\u219280\u219290\u2192100"], [["10", "20", "30", "40", "50", "60", "70", "80", "90", "100"], [1.3841124999999999, 0.91005, 0.9419700000000001, 0.6939375000000001, 4.751237499999999, 0.6735375, 0.66124, 0.543225, 0.6318524999999999, 5.0252574999999995, 0.17172749999999998, 0.08034749999999999, 2.8077825, 12.0303325, 10.080555000000002, 0.45215249999999996, 0.059542500000000054, 0.12314750000000002, 0.07886750000000001, 0.023682500000000023], "Increment", "10\u219220\u219230\u219240\u219250\u219260\u219270\u219280\u219290\u2192100"], [["null", "null", "null", "null", "null", "null", "20", "30", "40", "50"], [0.8668275, 0.9642, 0.6973625000000001, 0.18196999999999997, 0.24100499999999997, 0.18849999999999995, 0.16303749999999997, 0.05742, 0.06018499999999999, 0.06541999999999998, 0.07777750000000003, 0.09439249999999999, 0.043267500000000014, 0.14322000000000001, 0.11335249999999997, 0.06325749999999994, 0.263335, 0.048722499999999946, 0.04385, 0.027650000000000063], "Increment", "20\u219230\u219240\u219250"], [["null", "null", "null", "null", "null", "null", "60", "70", "80", "90"], [0.90413, 0.8419449999999999, 0.9619650000000001, 0.8565, 0.8221275, 0.683475, 0.6998825, 0.3457125, 0.48250750000000003, 0.16803249999999997, 0.15258000000000002, 0.18105, 0.14664499999999997, 0.09844750000000002, 0.09235749999999998, 0.10240250000000001, 0.1393675, 0.09472000000000003, 0.2059875, 0.02812500000000001], "Increment", "60\u219270\u219280\u219290"], [["40", "40", "40", "40", "40", "40", "40", "40", "40", "40"], [0.8084549999999999, 0.7877500000000001, 0.84817, 0.7281825000000001, 0.27334250000000004, 0.29225499999999993, 0.20282500000000003, 0.08167499999999997, 0.13401000000000002, 0.08774749999999998, 0.0927675, 0.0941575, 0.08519250000000003, 0.048065, 0.076155, 0.09842999999999996, 0.12467, 0.060679999999999984, 0.08318249999999999, 0.028822500000000056], "Dense", "40\u219240\u219240\u219240\u219240\u219240\u219240\u219240\u219240\u219240"], [["null", "null", "null", "null", "null", "null", "null", "null", "80", "80"], [0.8785700000000001, 0.807875, 0.7452675, 0.40776249999999997, 0.39488500000000004, 0.21158, 0.40970999999999996, 0.17518250000000005, 0.4685125, 0.21651499999999996, 0.13840999999999995, 0.21034250000000002, 0.07556749999999998, 0.29773249999999996, 0.11250749999999998, 0.12491749999999999, 0.02070999999999995, 0.18846749999999995, 0.058365, 0.02901999999999999], "Dense", "80\u219280"], [["20", "20", "20", "20", "20", "20", "20", "20", "20", "20"], [0.9039275, 0.6506000000000001, 0.589445, 0.1368325, 0.21239999999999998, 0.17823749999999997, 0.16517000000000004, 0.16242000000000004, 0.10857999999999995, 0.162285, 0.15123499999999995, 0.08142750000000001, 0.069635, 0.05902500000000002, 0.059067499999999995, 0.0620125, 0.11736249999999998, 0.12645999999999996, 0.05303999999999992, 0.03334249999999994], "Dense", "20\u219220\u219220\u219220\u219220\u219220\u219220\u219220\u219220\u219220"], [["null", "30", "30", "30", "30", "30", "30", "30", "30", "30"], [14.997027500000002, 0.12201000000000001, 0.114015, 0.18281, 0.22448500000000002, 0.11059250000000004, 0.06427250000000001, 15.014779999999998, 0.1924225, 0.17706750000000002, 0.12319750000000002, 0.041929999999999995, 0.06966749999999994, 0.06625249999999999, 0.06527249999999998, 0.06109999999999996, 0.052800000000000014, 0.05629249999999997, 0.02174250000000008, 0.0336225], "Dense", "30\u219230\u219230\u219230\u219230\u219230\u219230\u219230\u219230"], [["null", "null", "20", "20", "20", "20", "20", "20", "20", "20"], [1.1715875, 0.7639950000000001, 0.5630275, 0.1615475, 0.24180999999999997, 0.22819749999999997, 0.15780999999999998, 0.06477, 0.10293999999999998, 0.09794749999999997, 0.035609999999999975, 0.08345000000000002, 0.05885499999999999, 0.03978000000000001, 0.05260500000000001, 0.08574500000000004, 0.033477499999999966, 0.04648499999999994, 0.06403249999999999, 0.03429499999999994], "Dense", "20\u219220\u219220\u219220\u219220\u219220\u219220\u219220"]]};
const g1_data = DATA_P.graph1_data;

let new_data2 = [[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null],
[null,null,null,null,null,null,null,null,null,null,null]];

for (let i=1; i <= 10; i++) {
        for (let j=1; j <= 10; j++) {
            new_data2[i-1][j-1] = g1_data[i-1][0][j-1];
        }
        new_data2[i-1][10] = g1_data[i-1][1][19];
        new_data2[i-1][11] = g1_data[i-1][2];

}

// console.log(DATA_P.graph1_data[0][0][19])

// let s = selected;
// console.log(s);

let draw_p = function(new_data){
    console.log('clicked');
    var dom = document.getElementById("paint_id");
    var myChart = echarts.init(dom)
    var option_paint_id;
    var series =     [
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 5,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#ff0000"
            },
            "name": new_data[0][11],
            "data": 
            [
                [
                    new_data[0][0],
                    new_data[0][1],
                    new_data[0][2],
                    new_data[0][3],
                    new_data[0][4],
                    new_data[0][5],
                    new_data[0][6],
                    new_data[0][7],
                    new_data[0][8],
                    new_data[0][9],
                    new_data[0][10]
                    // graph1_data[0][0][1],
                    // graph1_data[0][0][2],
                    // graph1_data[0][0][3],
                    // graph1_data[0][0][4],
                    // graph1_data[0][0][5],
                    // graph1_data[0][0][6],
                    // graph1_data[0][0][7],
                    // graph1_data[0][0][8],
                    // graph1_data[0][0][9],
                    // graph1_data[0][1][19],
                    // graph1_data[0][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 4.8,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#3366ff"
            },
            "name": new_data[1][11],
            "data": [
                [
                    new_data[1][0],
                    new_data[1][1],
                    new_data[1][2],
                    new_data[1][3],
                    new_data[1][4],
                    new_data[1][5],
                    new_data[1][6],
                    new_data[1][7],
                    new_data[1][8],
                    new_data[1][9],
                    new_data[1][10]
                    // graph1_data[1][1][19],
                    // graph1_data[1][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 4.6,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#33cc33"
            },
            "name": new_data[2][11],
            "data": [
                [
                    new_data[2][0],
                    new_data[2][1],
                    new_data[2][2],
                    new_data[2][3],
                    new_data[2][4],
                    new_data[2][5],
                    new_data[2][6],
                    new_data[2][7],
                    new_data[2][8],
                    new_data[2][9],
                    new_data[2][10]
                    // graph1_data[2][1][19],
                    // graph1_data[2][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 4.4,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#9900ff"
            },
            "name": new_data[3][11],
            "data": [
                [
                    new_data[3][0],
                    new_data[3][1],
                    new_data[3][2],
                    new_data[3][3],
                    new_data[3][4],
                    new_data[3][5],
                    new_data[3][6],
                    new_data[3][7],
                    new_data[3][8],
                    new_data[3][9],
                    new_data[3][10]
                    // graph1_data[3][1][19],
                    // graph1_data[3][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 4.2,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#ff9900"
            },
            "name": new_data[4][11],
            "data": [
                [
                    new_data[4][0],
                    new_data[4][1],
                    new_data[4][2],
                    new_data[4][3],
                    new_data[4][4],
                    new_data[4][5],
                    new_data[4][6],
                    new_data[4][7],
                    new_data[4][8],
                    new_data[4][9],
                    new_data[4][10]
                    // graph1_data[4][1][19],
                    // graph1_data[4][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 4.0,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#ffff66"
            },
            "name": new_data[5][11],
            "data": [
                [
                    new_data[5][0],
                    new_data[5][1],
                    new_data[5][2],
                    new_data[5][3],
                    new_data[5][4],
                    new_data[5][5],
                    new_data[5][6],
                    new_data[5][7],
                    new_data[5][8],
                    new_data[5][9],
                    new_data[5][10]
                    // graph1_data[5][1][19],
                    // graph1_data[5][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 3.8,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#800000"
            },
            "name": new_data[6][11],
            "data": [
                [
                    new_data[6][0],
                    new_data[6][1],
                    new_data[6][2],
                    new_data[6][3],
                    new_data[6][4],
                    new_data[6][5],
                    new_data[6][6],
                    new_data[6][7],
                    new_data[6][8],
                    new_data[6][9],
                    new_data[6][10]
                    // graph1_data[6][1][19],
                    // graph1_data[6][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 3.6,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#ff66ff"
            },
            "name": new_data[7][11],
            "data": [
                [
                    new_data[7][0],
                    new_data[7][1],
                    new_data[7][2],
                    new_data[7][3],
                    new_data[7][4],
                    new_data[7][5],
                    new_data[7][6],
                    new_data[7][7],
                    new_data[7][8],
                    new_data[7][9],
                    new_data[7][10]
                    // graph1_data[7][1][19],
                    // graph1_data[7][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 3.4,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#666699"
            },
            "name": new_data[8][11],
            "data": [
                [
                    new_data[8][0],
                    new_data[8][1],
                    new_data[8][2],
                    new_data[8][3],
                    new_data[8][4],
                    new_data[8][5],
                    new_data[8][6],
                    new_data[8][7],
                    new_data[8][8],
                    new_data[8][9],
                    new_data[8][10]
                    // graph1_data[8][1][19],
                    // graph1_data[8][3]
                ]
            ],
            "smooth": false
        },
        {
            "type": "parallel",
            "coordinateSystem": "parallel",
            "lineStyle": {
                "show": true,
                "width": 3.2,
                "opacity": 1,
                "curveness": 0,
                "type": "solid",
                "color": "#006600"
            },
            "name": new_data[9][11],
            "data": [
                [
                    new_data[9][0],
                    new_data[9][1],
                    new_data[9][2],
                    new_data[9][3],
                    new_data[9][4],
                    new_data[9][5],
                    new_data[9][6],
                    new_data[9][7],
                    new_data[9][8],
                    new_data[9][9],
                    new_data[9][10]
                    // graph1_data[9][1][19],
                    // graph1_data[9][3]
                ]
            ],
            "smooth": false
        }
        ];

    console.log(series);

    var dims = [
        {
            dim: 0,
            name: "layer",
            max: 100,
            min: 0,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 1,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 2,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 3,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 4,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 5,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 6,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 7,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 8,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 9,
            "name": "layer",
            "max": 100,
            min: 0,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
        {
            "dim": 10,
            "name": "Error",
            "type": "log",
            "min": 0.01,
            "max": 0.1,
            "scale": false,
            nameLocation: 'center',  
            nameGap: 15,
            nameRotate: 0, 
            nameTextStyle: {
                fontSize: '15px',
                fontWeight: 'bolder'
            }
        },
    
    ];
    console.log(dims);
    myChart.clear();
    option_paint_id = {
    "animation": true,
    "animationThreshold": 2000,
    "animationDuration": 1000,
    "animationEasing": "cubicOut",
    "animationDelay": 0,
    "animationDurationUpdate": 300,
    "animationEasingUpdate": "cubicOut",
    "animationDelayUpdate": 0,
    // toolbox: {feature: {
    //     saveAsImage: {}
    // }},
    "color": [
    "#c23531",
    "#2f4554",
    "#61a0a8",
    "#d48265",
    "#749f83",
    "#ca8622",
    "#bda29a",
    "#6e7074",
    "#546570",
    "#c4ccd3",
    "#f05b72",
    "#ef5b9c",
    "#f47920",
    "#905a3d",
    "#fab27b",
    "#2a5caa",
    "#444693",
    "#726930",
    "#b2d235",
    "#6d8346",
    "#ac6767",
    "#1d953f",
    "#6950a1",
    "#918597"
    ],

    series: series,

    tooltip: {
    show: true,
    trigger: 'item',
    triggerOn: 'mousemove|click',
    backgroundColor: '#9966ff',
    padding: 10,
    borderColor: '#cccccc',
    borderWidth: 1,
    textStyle: {
        color: "#fff"
    }
    },
    "parallel": {
    "left": "5%",
    "right": "13%",
    "bottom": "10%",
    "top": "20%"
    },
    "parallelAxis": dims
    };
    if (option_paint_id && typeof option_paint_id === 'object') {
        myChart.setOption(option_paint_id);
    }
}

const btn_p = document.getElementById("display");
// btn_p.addEventListener("click", draw_p(new_data2));

// btn_p.addEventListener("click", new_data2 => {
//     draw_p(new_data2)
// });

btn_p.addEventListener('click', function() {
    draw_p(new_data2), false;
})